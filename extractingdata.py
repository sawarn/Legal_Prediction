# -*- coding: utf-8 -*-
"""ExtractingData

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1a5Jwc-wTyFL7uNNfXZrekgHm11LsoujL
"""

pip install pdfplumber

import re
import pdfplumber
import pandas as pd
#from pyPdf import PdfFileWriter, PdfFileReader

def deletePage(pageNo):

import pdfplumber
pdf = pdfplumber.open('abc.pdf')
pages=pdf.pages
#print(len(pages))
for i in range(len(pdf.pages),len(pdf.pages)-2):
  text=pdf.pages[i].extract_text()
  print("bancho")

from google.colab import drive
drive.mount('/content/drive')

import os
import glob
path=[]
pdf_loc="/content/drive/MyDrive/Judgement"
for i in os.listdir(pdf_loc):
  path.append((os.path.join(pdf_loc,i)))

import pdfplumber
import re
#import PyPDF4
final_page=[]


#from dateparser.search import search_dates
for files in path:
  pdf = pdfplumber.open(files)
  pages=len(pdf.pages)

  end=pages-3
  #date=""
  #dates=[]


  for i in range(pages-1,end,-1):
    text=pdf.pages[i].extract_text()
    final_page.append(text)

    #res = re.sub(r'[^\w\s]', '', text)
    #sex=re.split("\s",res)
    #while "" in sex:
     # sex.remove("")
    #for j in sex:
     # date=search_dates(j)
     # dates.append(date)

df=pd.DataFrame(final_page)
df.to_csv("Final.csv")

import PyPDF4
import re
import io
pdfFileObj = open(r'abc.pdf', 'rb')
pdfReader = PyPDF4.PdfFileReader(pdfFileObj)
pages=pdfReader.getNumPages()
end=pages-3
final_page=[]
pageObj = pdfReader.getPage(end)
pages_text = pageObj.extractText()
for line in io.StringIO(pages_text):
  print(line)